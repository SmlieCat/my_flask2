{% extends 'base.html' %}

{% block content %}
{% for message in get_flashed_messages(with_categories=Flase, category_filter=['err']) %}
<p style="color: red">{{message}}</p>
{% endfor %}
{% for message in get_flashed_messages(with_categories=Flase, category_filter=['ok']) %}
<p style="color: green">{{message}}</p>
{% endfor %}




<div id="myCarousel" class="carousel slide visible-lg-block visible-md-block"style="width:100%; margin-top:20px; ">
	<!-- 轮播（Carousel）指标 -->
	<ol class="carousel-indicators">
		<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
		<li data-target="#myCarousel" data-slide-to="1"></li>
		<li data-target="#myCarousel" data-slide-to="2"></li>
	</ol>
	<!-- 轮播（Carousel）项目 -->
	<div class="carousel-inner" style="max-height: 450px">
		<div class="item active">
			<img src="http://ws3.sinaimg.cn/large/0062Ep7ely1fz0lbiv6ltj31hc0u0wpu.jpg" alt="First slide" class="img-thumbnail">
		</div>
		<div class="item">
			<img src="http://wx2.sinaimg.cn/large/0062Ep7ely1fz0ldo0gruj31hc0u0n5i.jpg" alt="Second slide" class="img-thumbnail">
		</div>
		<div class="item">
			<img src="http://ws4.sinaimg.cn/large/0062Ep7ely1fz0lesy34lj31hc0u0tgl.jpg" alt="Third slide" class="img-thumbnail">
		</div>
	</div>
	<!-- 轮播（Carousel）导航 -->
	<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
		<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
		<span class="sr-only">Previous</span>
	</a>
	<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
		<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
		<span class="sr-only">Next</span>
	</a>
</div>


<h1></h1>
    <div >
	{% for article in articles %}

		<div class="row">

			<div class="col-md-2 visible-lg-block visible-md-block" >
				<a href="{{ url_for('article_content', id=article.id) }}" >
				<img class="img-rounded" src="{{article.article_img_url}}"
				height="150" title="{{ article.article_title }}" ></a>
			</div>
			<div class="col-md-10" >

				<ul class="list-group" >
				  <li class="list-group-item" id="item_1"><a href="{{ url_for('article_content', id=article.id) }}">
					  <h2>{{ article.article_title }}</h2></a>
					  <small>
					  时间:{{ article.addtime }}
					  &nbsp;/&nbsp;作者:{{article.article_writer}}&nbsp;/&nbsp;{{ article.click_num }}人阅读&nbsp;/&nbsp;{{article.love_num}}人收藏
				  	</small></li>
				  <li class="list-group-item" id="item_1">{{ article.article_desc }}</li>
				</ul>

			</div>
		</div>

	{% endfor %}
    </div>


{% endblock %}


{% block js_code %}
	<div class="copy">
		<p>  托管于<a href="http://www.miitbeian.gov.cn/" target="_blank" >阿里云. </a>
			<br><small> 博客已运行：<span id="htmer_time"></span></small>
		</p>

		<p>© Copyright © 2018 听风博客 <a href="http://www.miitbeian.gov.cn/" target="_blank" >辽ICP备18017671号</a>
			&nbsp;&nbsp;<a href="{{ url_for('admin_user_info') }}" style="color: #ffffff;">admin</a></p>

	</div>



	<script>
	     function secondToDate(second) {
	     if (!second) {
	     return 0;
	     }
	     var time = new Array(0, 0, 0, 0, 0);
	     if (second >= 365 * 24 * 3600) {
	     time[0] = parseInt(second / (365 * 24 * 3600));
	     second %= 365 * 24 * 3600;
	     }
	     if (second >= 24 * 3600) {
	     time[1] = parseInt(second / (24 * 3600));
	     second %= 24 * 3600;
	     }
	     if (second >= 3600) {
	     time[2] = parseInt(second / 3600);
	     second %= 3600;
	     }
	     if (second >= 60) {
	     time[3] = parseInt(second / 60);
	     second %= 60;
	     }
	     if (second > 0) {
	     time[4] = second;
	     }
	     return time;
	     }
	</script>
	<script type="text/javascript" language="javascript">
	     function setTime() {

	     var create_time = Math.round(new Date(Date.UTC(2019, 0, 01, 0, 0, 0))
	     .getTime() / 1000);

	     var timestamp = Math.round((new Date().getTime() + 8 * 60 * 60 * 1000) / 1000);
	     currentTime = secondToDate((timestamp - create_time));
	     currentTimeHtml = currentTime[0] + '年' + currentTime[1] + '天'
	     + currentTime[2] + '时' + currentTime[3] + '分' + currentTime[4]
	     + '秒';
	     document.getElementById("htmer_time").innerHTML = currentTimeHtml;
	     }
	     setInterval(setTime, 1000);
	</script>






<script type="text/javascript">
    $(document).ready(
      function(){
      }
    );
    $('#nav-1').addClass('active')

</script>
{% endblock %}
